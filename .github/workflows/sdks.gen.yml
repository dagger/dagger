# This file was generated. See https://daggerverse.dev/mod/github.com/dagger/dagger/modules/gha
name: SDKs
"on":
    push:
        branches:
            - main
    pull_request:
        types:
            - opened
            - reopened
            - synchronize
            - ready_for_review
    workflow_dispatch: {}
permissions:
    contents: read
    id-token: write
concurrency:
    group: ${{ github.workflow }}-${{ github.head_ref || github.run_id }}
    cancel-in-progress: true
jobs:
    dotnet:
        runs-on:
          - 'nscloud-ubuntu-24.04-amd64-16x32'
        name: dotnet
        steps:
            - name: Install Dagger
              uses: dagger/dagger-for-github@v8.2.0
              with:
                version: v0.18.19
            #- name: build-dev
            #  id: build-dev
            #  run: |
            #    which dagger
            #    dagger call cli dev-binaries --platform=current export --path ./bin
            #  env:
            #    DAGGER_MODULE: github.com/${{ github.repository }}@${{ github.sha }}
            - name: exec
              id: exec
              env:
                #DAGGER_CLOUD_URL: https://archbtw.taile7037.ts.net
                DAGGER_CLOUD_TOKEN: oidc
              run: |
                dagger --cloud call -m github.com/${{github.repository}}@${{ github.sha }} --docker-cfg=file:$HOME/.docker/config.json check --targets=sdk/dotnet
              #uses: dagger/dagger-for-github@v8.2.0
              #with:
              #  call: --docker-cfg=file:$HOME/.docker/config.json check --targets=sdk/dotnet
              #  cloud-token: oidc
              #  dagger-flags: --cloud
              #  module: github.com/${{ github.repository }}@${{ github.sha }}
              #  version: v0.18.19
        timeout-minutes: 20
    elixir:
        runs-on:
            - ubuntu-24.04
        name: elixir
        steps:
            - name: Install Dagger
              uses: dagger/dagger-for-github@v8.2.0
              with:
                version: v0.18.19
            - name: Checkout
              uses: actions/checkout@v4
            - name: exec
              id: exec
              uses: dagger/dagger-for-github@v8.2.0
              with:
                call: --docker-cfg=file:$HOME/.docker/config.json check --targets=sdk/elixir
                cloud-token: oidc
                dagger-flags: --cloud
                module: github.com/${{ github.repository }}@${{ github.sha }}
                version: v0.18.19
        timeout-minutes: 20
    go:
        runs-on:
            - ubuntu-24.04
        name: go
        steps:
            - name: Install Dagger
              uses: dagger/dagger-for-github@v8.2.0
              with:
                version: v0.18.19
            - name: Checkout
              uses: actions/checkout@v4
            - name: exec
              id: exec
              uses: dagger/dagger-for-github@v8.2.0
              with:
                call: --docker-cfg=file:$HOME/.docker/config.json check --targets=sdk/go
                cloud-token: oidc
                dagger-flags: --cloud
                module: github.com/${{ github.repository }}@${{ github.sha }}
                version: v0.18.19
        timeout-minutes: 20
    java:
        runs-on:
            - ubuntu-24.04
        name: java
        steps:
            - name: Install Dagger
              uses: dagger/dagger-for-github@v8.2.0
              with:
                version: v0.18.19
            - name: Checkout
              uses: actions/checkout@v4
            - name: exec
              id: exec
              uses: dagger/dagger-for-github@v8.2.0
              with:
                call: --docker-cfg=file:$HOME/.docker/config.json check --targets=sdk/java
                cloud-token: oidc
                dagger-flags: --cloud
                module: github.com/${{ github.repository }}@${{ github.sha }}
                version: v0.18.19
        timeout-minutes: 20
    php:
        runs-on:
            - ubuntu-24.04
        name: php
        steps:
            - name: Install Dagger
              uses: dagger/dagger-for-github@v8.2.0
              with:
                version: v0.18.19
            - name: Checkout
              uses: actions/checkout@v4
            - name: exec
              id: exec
              uses: dagger/dagger-for-github@v8.2.0
              with:
                call: --docker-cfg=file:$HOME/.docker/config.json check --targets=sdk/php
                cloud-token: oidc
                dagger-flags: --cloud
                module: github.com/${{ github.repository }}@${{ github.sha }}
                version: v0.18.19
        timeout-minutes: 20
    python:
        runs-on:
            - ubuntu-24.04
        name: python
        steps:
            - name: Install Dagger
              uses: dagger/dagger-for-github@v8.2.0
              with:
                version: v0.18.19
            - name: Checkout
              uses: actions/checkout@v4
            - name: exec
              id: exec
              uses: dagger/dagger-for-github@v8.2.0
              with:
                call: --docker-cfg=file:$HOME/.docker/config.json check --targets=sdk/python
                cloud-token: oidc
                dagger-flags: --cloud
                module: github.com/${{ github.repository }}@${{ github.sha }}
                version: v0.18.19
        timeout-minutes: 20
    rust:
        runs-on:
            - ubuntu-24.04
        name: rust
        steps:
            - name: Install Dagger
              uses: dagger/dagger-for-github@v8.2.0
              with:
                version: v0.18.19
            - name: Checkout
              uses: actions/checkout@v4
            - name: exec
              id: exec
              uses: dagger/dagger-for-github@v8.2.0
              with:
                call: --docker-cfg=file:$HOME/.docker/config.json check --targets=sdk/rust
                cloud-token: oidc
                dagger-flags: --cloud
                module: github.com/${{ github.repository }}@${{ github.sha }}
                version: v0.18.19
        timeout-minutes: 20
    typescript:
        runs-on:
            - ubuntu-24.04
        name: typescript
        steps:
            - name: Install Dagger
              uses: dagger/dagger-for-github@v8.2.0
              with:
                version: v0.18.19
            - name: Checkout
              uses: actions/checkout@v4
            - name: exec
              id: exec
              uses: dagger/dagger-for-github@v8.2.0
              with:
                call: --docker-cfg=file:$HOME/.docker/config.json check --targets=sdk/typescript
                cloud-token: oidc
                dagger-flags: --cloud
                module: github.com/${{ github.repository }}@${{ github.sha }}
                version: v0.18.19
        timeout-minutes: 20
