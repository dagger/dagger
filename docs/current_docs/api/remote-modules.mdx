---
slug: /api/remote-modules
---

# Using Modules from Remote Repositories

Dagger supports the use of HTTP and SSH protocols for accessing remote repositories as Dagger [modules](../features/modules.mdx), compatible with all major Git hosting platforms such as GitHub, GitLab, BitBucket, Azure DevOps, Codeberg, and Sourcehut. Dagger supports authentication via both HTTPS (using Git credential managers) and SSH (using a unified authentication approach).

Dagger supports various reference schemes for Dagger modules, as below:

| Protocol | Scheme            | Authentication         | Example                                                    |
|----------|-------------------|------------------------|------------------------------------------------------------|
| HTTP(S)  | Go-like ref style | Git credential manager | `github.com/username/repo[/subdir][@version]`              |
| HTTP(S)  | Git HTTP style    | Git credential manager | `https://github.com/username/repo.git[/subdir][@version]`  |
| SSH      | SCP-like          | SSH keys               | `git@github.com:username/repo.git[/subdir][@version]`      |
| SSH      | Explicit SSH      | SSH keys               | `ssh://git@github.com/username/repo.git[/subdir][@version]` |

### Using credentials in CI environments

When running Dagger inside CI systems, you often have tokens provided by the CI provider. Instead of writing a custom helper script, you can directly store credentials in an ephemeral credentials file and configure Git to use it. Below are examples for GitLab, GitHub, and BitBucket, each shown in separate tabs. These approaches are minimal and avoid persistent storage of credentials.

:::tabs

:::tab[GitLab]

For GitLab's `CI_JOB_TOKEN`, use `gitlab-ci-token` as the username.

```yaml
image: alpine:latest

stages:
  - build

build_job:
  stage: build
  variables:
    GIT_USERNAME: "gitlab-ci-token"
  before_script:
    - apk add --no-cache git
    # Store credentials in .git-credentials
    - echo "https://${GIT_USERNAME}:${CI_JOB_TOKEN}@gitlab.com" > .git-credentials
    - git config credential.helper "store --file=.git-credentials"
  script:
    - git clone https://gitlab.com/USER/PRIVATE_REPOSITORY.git
    - dagger -m https://gitlab.com/USER/PRIVATE_REPOSITORY.git call some-function
```
:::

:::tab[GitHub]

For GitHub tokens, use `x-access-token` as the username.

```yaml
name: build

on: [push]

jobs:
  build_job:
    runs-on: ubuntu-latest
    steps:
      - name: Set up Git credentials
        run: |
          echo "https://x-access-token:${GITHUB_TOKEN}@github.com" > .git-credentials
          git config credential.helper "store --file=.git-credentials"
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

      - name: Test clone
        run: git clone https://github.com/USER/PRIVATE_REPOSITORY.git
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

      - name: Run Dagger command
        run: dagger -m https://github.com/USER/PRIVATE_REPOSITORY.git call some-function
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
```
:::

:::tab[BitBucket]

For BitBucket App Passwords, use your actual BitBucket username.

```yaml
image: alpine:latest

stages:
  - build

build_job:
  stage: build
  variables:
    BB_USERNAME: "your-bitbucket-username"
    BB_APP_PASSWORD: "${BB_APP_PASSWORD}"
  before_script:
    - apk add --no-cache git
    - echo "https://${BB_USERNAME}:${BB_APP_PASSWORD}@bitbucket.org" > .git-credentials
    - git config credential.helper "store --file=.git-credentials"
  script:
    - git clone https://bitbucket.org/USER/PRIVATE_REPOSITORY.git
    - dagger -m https://bitbucket.org/USER/PRIVATE_REPOSITORY.git call some-function
```
:::

:::

### SSH authentication

Dagger mounts the socket specified by your host's `SSH_AUTH_SOCK` environment variable to the Dagger Engine. This is essential for SSH refs, as most Git servers use your SSH key for authentication and tracking purposes, even when cloning public repositories.

### GitLab CI_JOB_TOKEN limitations

Some tokens, like GitLab's `CI_JOB_TOKEN`, require specifying a particular username (`gitlab-ci-token`) to be recognized correctly. Using other usernames or token formats may result in authentication failures. Until this is improved in Dagger's integration, ensure that the correct username is always set when using CI-provided tokens.
