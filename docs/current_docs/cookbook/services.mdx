---
title: "Services"
slug: /cookbook/services
description: "Learn how to manage services in your applications using Dagger with practical examples."
sidebar_label: "Services"
---


### Bind and use services in Dagger Functions

The first Dagger Function below creates and returns an HTTP service. This service is bound and used from a different Dagger Function, via a service binding using an alias like `www`.

<Tabs groupId="language" queryString="sdk">
<TabItem value="go" label="Go">

```go file=../extending/snippets/services/bind-services/go/main.go
```

</TabItem>
<TabItem value="python" label="Python">

```python file=../extending/snippets/services/bind-services/python/main.py
```

</TabItem>
<TabItem value="typescript" label="TypeScript">

```typescript file=../extending/snippets/services/bind-services/typescript/index.ts
```

</TabItem>
</Tabs>

#### Example

Send a request from one Dagger Function to a bound HTTP service instantiated by a different Dagger Function:

    <Tabs groupId="shell">
    <TabItem value="System shell">
    ```shell
    dagger -c get
    ```
    </TabItem>
    <TabItem value="Dagger Shell">
    ```shell title="First type 'dagger' for interactive mode."
    get
    ```
    </TabItem>
    <TabItem value="Dagger CLI">
    ```shell
    dagger call get
    ```
    </TabItem>
    </Tabs>

### Expose services in Dagger Functions to the host

The Dagger Function below creates and returns an HTTP service. This service can be used from the host.

<Tabs groupId="language" queryString="sdk">
<TabItem value="go" label="Go">

```go file=../extending/snippets/services/expose-dagger-services-to-host/go/main.go
```

</TabItem>
<TabItem value="python" label="Python">

```python file=../extending/snippets/services/expose-dagger-services-to-host/python/main.py
```

</TabItem>
<TabItem value="typescript" label="TypeScript">

```typescript file=../extending/snippets/services/expose-dagger-services-to-host/typescript/index.ts
```

</TabItem>
</Tabs>

#### Examples

- Expose the HTTP service instantiated by a Dagger Function to the host on the default port:

    <Tabs groupId="shell">
    <TabItem value="System shell">
    ```shell
    dagger -c 'http-service | up'
    ```
    </TabItem>
    <TabItem value="Dagger Shell">
    ```shell title="First type 'dagger' for interactive mode."
    http-service | up
    ```
    </TabItem>
    <TabItem value="Dagger CLI">
    ```shell
    dagger call http-service up
    ```
    </TabItem>
    </Tabs>

    Access the service from the host:

    ```shell
    curl localhost:8080
    ```

- Expose the HTTP service instantiated by a Dagger Function to the host on a different host port:

    <Tabs groupId="shell">
    <TabItem value="System shell">
    ```shell
    dagger -c 'http-service | up --ports 9000:8080'
    ```
    </TabItem>
    <TabItem value="Dagger Shell">
    ```shell title="First type 'dagger' for interactive mode."
    http-service | up --ports 9000:8080
    ```
    </TabItem>
    <TabItem value="Dagger CLI">
    ```shell
    dagger call http-service up --ports 9000:8080
    ```
    </TabItem>
    </Tabs>

    Access the service from the host:

    ```shell
    curl localhost:9000
    ```

### Expose host services to Dagger Functions

The following Dagger Function accepts a `Service` running on the host, binds it using an alias, and creates a client to access it via the service binding. This example uses a MariaDB database service running on host port 3306, aliased as `db` in the Dagger Function.

:::note
This implies that a service is already listening on a port on the host, out-of-band of Dagger.
:::

<Tabs groupId="language" queryString="sdk">
<TabItem value="go" label="Go">

```go file=../extending/snippets/services/expose-host-services-to-dagger/go/main.go
```

</TabItem>
<TabItem value="python" label="Python">

```python file=../extending/snippets/services/expose-host-services-to-dagger/python/main.py
```

</TabItem>
<TabItem value="typescript" label="TypeScript">

```typescript file=../extending/snippets/services/expose-host-services-to-dagger/typescript/index.ts
```

</TabItem>
</Tabs>

#### Example

Send a query to the database service listening on host port 3306 and return the result as a string:

    <Tabs groupId="shell">
    <TabItem value="System shell">
    ```shell
    dagger -c 'user-list tcp://localhost:3306'
    ```
    </TabItem>
    <TabItem value="Dagger Shell">
    ```shell title="First type 'dagger' for interactive mode."
    user-list tcp://localhost:3306
    ```
    </TabItem>
    <TabItem value="Dagger CLI">
    ```shell
    dagger call user-list --svc=tcp://localhost:3306
    ```
    </TabItem>
    </Tabs>

### Use service endpoints

The following Dagger Function starts a service manually, then retrieves its endpoint and sends a request. This example uses a NGINX HTTP service running on host port 80.

<Tabs groupId="language" queryString="sdk">
<TabItem value="go" label="Go">

```go file=../extending/snippets/services/use-endpoint/go/main.go
```

</TabItem>
<TabItem value="python" label="Python">

```python file=../extending/snippets/services/use-endpoint/python/main.py
```

</TabItem>
<TabItem value="typescript" label="TypeScript">

```typescript file=../extending/snippets/services/use-endpoint/typescript/index.ts
```

</TabItem>
</Tabs>

#### Example

Send a query to the HTTP service listening on host port 80 and return the result as a string:

<Tabs groupId="shell">
<TabItem value="System shell">
```shell
dagger -c get
```
</TabItem>
<TabItem value="Dagger Shell">
```shell title="First type 'dagger' for interactive mode."
get
```
</TabItem>
<TabItem value="Dagger CLI">
```shell
dagger call get
```
</TabItem>
</Tabs>

### Create a transient service for unit tests

The following Dagger Function creates a service and binds it to an application container for unit testing. In this example, the application being tested is Drupal. Drupal includes a large number of unit tests, including tests which depend on an active database service. This database service is created on-the-fly by the Dagger Function.

<Tabs groupId="language" queryString="sdk">
<TabItem value="go" label="Go">

```go file=../extending/snippets/services/test-against-db-service/go/main.go
```

</TabItem>
<TabItem value="python" label="Python">

```python file=../extending/snippets/services/test-against-db-service/python/main.py
```

</TabItem>
<TabItem value="typescript" label="TypeScript">

```typescript file=../extending/snippets/services/test-against-db-service/typescript/index.ts
```

</TabItem>
</Tabs>

#### Example

Run Drupal's unit tests, instantiating a database service during the process:

    <Tabs groupId="shell">
    <TabItem value="System shell">
    ```shell
    dagger -c test
    ```
    </TabItem>
    <TabItem value="Dagger Shell">
    ```shell title="First type 'dagger' for interactive mode."
    test
    ```
    </TabItem>
    <TabItem value="Dagger CLI">
    ```shell
    dagger call test
    ```
    </TabItem>
    </Tabs>

### Start and stop services

The following Dagger Function demonstrates how to control a service's lifecycle by explicitly starting and stopping a service. This example uses a Redis service.

<Tabs groupId="language" queryString="sdk">
<TabItem value="go" label="Go">

```go file=../extending/snippets/services/start-stop-services/go/main.go
```

</TabItem>
<TabItem value="python" label="Python">

```python file=../extending/snippets/services/start-stop-services/python/main.py
```

</TabItem>
<TabItem value="typescript" label="TypeScript">

```typescript file=../extending/snippets/services/start-stop-services/typescript/index.ts
```

</TabItem>
</Tabs>

#### Example

Start and stop a Redis service:

    <Tabs groupId="shell">
    <TabItem value="System shell">
    ```shell
    dagger -c redis-service
    ```
    </TabItem>
    <TabItem value="Dagger Shell">
    ```shell title="First type 'dagger' for interactive mode."
    redis-service
    ```
    </TabItem>
    <TabItem value="Dagger CLI">
    ```shell
    dagger call redis-service
    ```
    </TabItem>
    </Tabs>

### Create interdependent services

The following Dagger Function runs two services, service A and service B, that depend on each other. The services are set up with custom hostnames, `svca` and `svcb`, allowing each service to communicate with the other by hostname.

<Tabs groupId="language" queryString="sdk">
<TabItem value="go" label="Go">

```go file=../extending/snippets/services/create-interdependent-services/go/main.go
```

</TabItem>
<TabItem value="python" label="Python">

```python file=../extending/snippets/services/create-interdependent-services/python/main.py
```

</TabItem>
<TabItem value="typescript" label="TypeScript">

```typescript file=../extending/snippets/services/create-interdependent-services/typescript/index.ts
```

</TabItem>
</Tabs>

#### Example

Start two inter-dependent services:

    <Tabs groupId="shell">
    <TabItem value="System shell">
    ```shell
    dagger -c 'services | up --ports 8080:80'
    ```
    </TabItem>
    <TabItem value="Dagger Shell">
    ```shell title="First type 'dagger' for interactive mode."
    services | up --ports 8080:80
    ```
    </TabItem>
    <TabItem value="Dagger CLI">
    ```shell
    dagger call services up --ports 8080:80
    ```
    </TabItem>
    </Tabs>
