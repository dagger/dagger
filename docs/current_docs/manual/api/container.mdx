---
slug: /manual/api/container
displayed_sidebar: "current"
---

import Embed from "@site/src/components/embed.js"

# Container

:::note
The fields listed on this page are indicative and not exhaustive. For a complete list of fields, refer to the Dagger API reference guide.
:::

The `Container` type represents the state of an OCI-compatible container. Some of its important fields are:

| Field | Description |
|-------|-------------|
| `from` | Initializes the container from a specified base image |
| `asService` | Turns the container into a `Service` |
| `asTarball` | Returns a serialized tarball of the container as a `File` |
| `export` / `import` | Writes / reads the container as an OCI tarball to / from a file path on the host |
| `publish` | Publishes the container image to a registry |
| `stdout` / `stderr` | Returns the output / error stream of the last executed command |
| `withDirectory` / `withMountedDirectory` | Returns the container plus a directory copied / mounted at the given path |
| `withEntrypoint` | Returns the container with a custom entrypoint command |
| `withExec` | Returns the container after executing a command inside it |
| `withFile` / `withMountedFile` | Returns the container plus a file copied / mounted at the given path |
| `withMountedCache` | Returns the container plus a cache volume mounted at the given path |
| `withRegistryAuth` | Returns the container with registry authentication configured |
| `withWorkdir` | Returns the container configured with a specific working directory |
| `withServiceBinding` | Returns the container with runtime dependency on another `Service` |

Here is an example of creating a container image from an `alpine` base image and then copying the `/myapp` directory from the host filesystem to `/src` in the container filesystem:

```graphql
query {
  container {
    from(address: "alpine") {
      withDirectory(path: "/src", directory: "/myapp") {
        sync
      }
    }
  }
}
```

Here is an example of creating a container image from the Docker `hello-world` base image and then returning the output of the `hello` command run in the container:

```graphql
query {
  container {
    from(address:"hello-world") {
      withExec(args:["/hello"]) {
        stdout
      }
    }
  }
}
```

[Try it in the API Playground](https://play.dagger.cloud/playground/RD-s7FHsBGX)

Here is an example of creating a container image from an `alpine` base image, adding the `curl` and `nginx` packages to it, and publishing it to a registry:

```graphql
query {
  container {
    from(address: "alpine") {
      withExec(args: ["apk", "add", "curl", "nginx"]) {
        publish(address: "ttl.sh/my-alpine")
      }
    }
  }
}
```

[Try it in the API Playground](https://play.dagger.cloud/playground/XuoX2KGMTky)
