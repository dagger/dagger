---
slug: /manual/api/types
displayed_sidebar: "current"
---

import Embed from "@site/src/components/embed.js"

# Types

In addition to basic types (string, boolean, integer, arrays...), the Dagger API also provides powerful core types which serve as both arguments and return values for Dagger Functions. These include `Directory`, `Container`, `Service`, `Secret`, and many more.

:::note
The types listed on this page are indicative and not exhaustive. For a complete list of supported types and their fields, refer to the Dagger API reference guide.
:::

The following table lists available types and what they represent:

| Type | Description |
|------|-------------|
| `CacheVolume` | A directory whose contents persist across runs |
| `Container` | An OCI-compatible container |
| `CurrentModule` | The current Dagger module and its context |
| `DaggerEngine` | The Dagger Engine configuration and state |
| `Directory` | A directory (local path or Git reference) |
| `EnvVariable` | An environment variable name and value |
| `File` | A file |
| `GitRepository` | A Git repository |
| `GitRef` | A Git reference (tag, branch, or commit) |
| `Host` | The Dagger host environment |
| `Module` | A Dagger module |
| `Port` | A port exposed by a container |
| `Secret` | A secret credential like a password, access token or key) |
| `Service` | A content-addressed service providing TCP connectivity |
| `Socket` | A Unix or TCP/IP socket that can be mounted into a container |
| `Terminal` | An interactive terminal session |

Each type exposes additional fields. Some of these are discussed below.

## Container

The `Container` type represents the state of an OCI-compatible container. This `Container` object is not merely a string referencing an image on a remote registry. It is the actual state of a container, managed by the Dagger Engine, and passed to a Dagger Function's code as if it were just another variable.

Some of the `Container` type's important fields are:

| Field | Description |
|-------|-------------|
| `from` | Initializes the container from a specified base image |
| `asService` | Turns the container into a `Service` |
| `asTarball` | Returns a serialized tarball of the container as a `File` |
| `export` / `import` | Writes / reads the container as an OCI tarball to / from a file path on the host |
| `publish` | Publishes the container image to a registry |
| `stdout` / `stderr` | Returns the output / error stream of the last executed command |
| `withDirectory` / `withMountedDirectory` | Returns the container plus a directory copied / mounted at the given path |
| `withEntrypoint` | Returns the container with a custom entrypoint command |
| `withExec` | Returns the container after executing a command inside it |
| `withFile` / `withMountedFile` | Returns the container plus a file copied / mounted at the given path |
| `withMountedCache` | Returns the container plus a cache volume mounted at the given path |
| `withRegistryAuth` | Returns the container with registry authentication configured |
| `withWorkdir` | Returns the container configured with a specific working directory |
| `withServiceBinding` | Returns the container with runtime dependency on another `Service` |

Here is an example of creating a container image from an `alpine` base image and then copying the `/myapp` directory from the host filesystem to `/src` in the container filesystem:

```graphql
query {
  container {
    from(address: "alpine") {
      withDirectory(path: "/src", directory: "/myapp") {
        sync
      }
    }
  }
}
```

Here is an example of creating a container image from the Docker `hello-world` base image and then returning the output of the `hello` command run in the container:

```graphql
query {
  container {
    from(address:"hello-world") {
      withExec(args:["/hello"]) {
        stdout
      }
    }
  }
}
```

[Try it in the API Playground](https://play.dagger.cloud/playground/RD-s7FHsBGX)

Here is an example of creating a container image from an `alpine` base image, adding the `curl` and `nginx` packages to it, and publishing it to a registry:

```graphql
query {
  container {
    from(address: "alpine") {
      withExec(args: ["apk", "add", "curl", "nginx"]) {
        publish(address: "ttl.sh/my-alpine")
      }
    }
  }
}
```

[Try it in the API Playground](https://play.dagger.cloud/playground/XuoX2KGMTky)

## Directory

The `Directory` type represents the state of a directory. This could be either a local directory path or a remote Git reference. Some of its important fields are:

| Field | Description |
|-------|-------------|
| `dockerBuild` | Builds a new Docker container from the directory |
| `entries` | Returns a list of files and directories in the directory |
| `export` | Writes the contents of the directory to a path on the host |
| `file` | Returns a file at the given path as a `File`  |
| `withFile` / `withFiles` | Returns the directory plus the file(s) copied to the given path |

Here is an example of listing the contents of the `/usr` directory in an `alpine` container:

```graphql
query {
  container {
    from(address: "alpine") {
      directory(path: "/usr") {
        entries
      }
    }
  }
}
```

[Try it in the API Playground](https://play.dagger.cloud/playground/J4nU1oIK3rE)

Here is an example of exporting the contents of the `/etc/crontabs` directory from an `alpine` container to the `/tmp` directory on the host:

```graphql
query {
  container {
    from(address: "alpine") {
      directory(path: "/etc/crontabs/") {
        export(path: "/tmp")
      }
    }
  }
}
```

## File

The `File` type represents a single file. Some of its important fields are:

| Field | Description |
|-------|-------------|
| `contents` | Returns the contents of the file |
| `export` | Writes the file to a path on the host |


Here is an example of returning the contents of the `/etc/os-release` file from an `alpine` container:

```graphql
query {
  container {
    from(address: "alpine") {
      file(path: "/etc/os-release") {
        contents
      }
    }
  }
}
```

[Try it in the API Playground](https://play.dagger.cloud/playground/PuxVoRejc6u)

Here is an example of copying the `/etc/os-release` file from an `alpine` container to `/tmp/outfile` on the host:

```graphql
query {
  container {
    from(address: "alpine") {
      file(path: "/etc/os-release") {
        export(path: "/tmp/outfile")
      }
    }
  }
}
```

## Service

The `Service` type represents a content-addressed service providing TCP connectivity. Some of its important fields are:

| Field | Description |
|-------|-------------|
| `endpoint` | Returns a URL or host:port pair to reach the service |
| `hostname` | Returns a hostname to reach the service |
| `ports` | Returns the list of ports provided by the service |
| `up` | Creates a tunnel that forwards traffic from the caller's network to the service  |

FIXME add examples


## Secret

Dagger allows you to utilize confidential information ("secrets") such as passwords, API keys, SSH keys and so on, without exposing those secrets in plaintext logs, writing them into the filesystem of containers you're building, or inserting them into the cache. The `Secret` type is used to represent these secret values. Some of its important fields are:

| Field | Description |
|-------|-------------|
| `name` | Returns the name of the secret |
| `plaintext` | Returns the plaintext value of the secret |

FIXME add examples
