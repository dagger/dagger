---
slug: /manual/functions/chaining
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Chaining

Dagger Functions can return either basic types or objects. Objects can define their own functions (in the classic object-oriented model). When calling a Dagger Function that returns an object, the Dagger API lets you follow up by calling one of that object's functions, which itself can return another object, and so on. This is called "function chaining", and is a core feature of Dagger.

Dagger's core types (`Container`, `Directory`, `Service`, `Secret`, ...) are all objects. They each define various functions for interacting with their respective objects. When a Dagger Function returns a core type - for example, a directory - the caller typically continues the chain by calling a function from that type - for example, to export it to the local filesystem, modify it, mount it into a container, etc.

Here are a few examples of function chaining in action:

- List the contents of the build directory returned by a Dagger Function, by chaining a call to the `Directory.entries()` API method:

    ```shell
    dagger -m github.com/kpenfound/dagger-modules/golang@v0.2.0 call build --source=https://github.com/dagger/dagger --args=./cmd/dagger entries
    ```

- Print the contents of a file returned by a Dagger Function, by chaining a call to the `File.contents()` API method:

    ```shell
    dagger call -m github.com/dagger/dagger/dev/ruff@a29dadbb5d9968784847a15fccc5629daf2985ae lint --source https://github.com/dagger/dagger report contents
    ```

- Publish a container image of a container returned by a Dagger Function, by chaining a call to the `Container.publish()` API method:

    ```shell
    dagger call -m github.com/shykes/daggerverse/wolfi@v0.1.4 container publish --address=ttl.sh/my-wolfi
    ```

- Add labels to a container image before publishing it, by chaining additional calls to the `Container.withLabel()` API method:

    ```shell
    dagger -m github.com/shykes/daggerverse/wolfi@v0.1.4 call container --packages=curl with-label --name=version --value=1.0 with-label --name=vendor --value="Unknown Corp" publish --address=ttl.sh/my-wolfi
    ```

- Display and return the contents of the `/etc/os-release` file in a container, by chaining calls to the `Container.withExec()` and `Container.stdout()` API methods:

    ```shell
    dagger -m github.com/shykes/daggerverse/wolfi@v0.1.4 call container with-exec --args="cat","/etc/os-release" stdout
    ```

- Expose a service returned by a Dagger Function on a specified host port, by chaining a call to the `Service.up()` method:

    ```shell
    dagger -m github.com/levlaz/daggerverse/mariadb@b56073942f5fa65c42a63a524fc9276f7f040f2f call serve up --ports=9000:3306
    ```

So long as a Dagger Function returns an object that can be JSON-serialized, its state will be preserved and passed to the next function in the chain. This makes it possible to write custom Dagger Functions that support function chaining in the same style as the Dagger API.

Here is an example module with support for function chaining:

<Tabs groupId="language">
<TabItem value="Go">

```go file=./snippets/chaining/go/main.go
```

</TabItem>
<TabItem value="Python">

```python file=./snippets/chaining/python/main.py
```

</TabItem>
<TabItem value="TypeScript">

```typescript file=./snippets/chaining/typescript/index.ts
```

</TabItem>
</Tabs>

And here is an example call for this module:

```shell
dagger call with-name --name=Monde with-greeting --greeting=Bonjour message
```

The result will be:

```shell
Bonjour, Monde!
```
