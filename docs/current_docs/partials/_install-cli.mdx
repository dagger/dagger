import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

:::info
The `dagger` CLI is available for installation on macOS, Linux, and Windows to run locally or in a CI environment.
:::

Install the `dagger` CLI following the steps below.

<Tabs>
<TabItem value="macOS">

We assume that you have [Homebrew](https://brew.sh/) installed. If you do, you can install `dagger` with a single command:

```shell
brew install dagger/tap/dagger
```

This installs `dagger` in:

```shell
type dagger
# macOS ARM:
dagger is /opt/homebrew/bin/dagger
# macOS Intel:
dagger is /usr/local/bin/dagger
```

If you do not have Homebrew installed, or you want to install a specific version of `dagger`, you can run:

```shell
cd /usr/local
curl -fsSL https://dl.dagger.io/dagger/install.sh | DAGGER_VERSION=0.12.6 sh

./bin/dagger version
dagger v0.12.6 (registry.dagger.io/engine:v0.12.6) darwin/arm64
```
[View source](https://github.com/dagger/dagger/blob/main/install.sh)

If your user account doesn't have sufficient privileges to install in `/usr/local` and `sudo` is available, use the following command instead:

```shell
cd /usr/local
curl -fsSL https://dl.dagger.io/dagger/install.sh | DAGGER_VERSION=0.12.6 sudo -E sh
```

</TabItem>

<TabItem value="Linux">

The quickest way of installing `dagger` on Linux is to run the following command:

```shell
curl -fsSL https://dl.dagger.io/dagger/install.sh | BIN_DIR=$HOME/.local/bin sh
```
[View source](https://github.com/dagger/dagger/blob/main/install.sh)

This installs `dagger` in `$HOME/.local/bin`:

```shell
type dagger
dagger is $HOME/.local/bin/dagger
```

If you want to install a specific version of `dagger`, you can run:

```shell
curl -fsSL https://dl.dagger.io/dagger/install.sh | DAGGER_VERSION=0.12.6 sh

./bin/dagger version
dagger v0.12.6 (registry.dagger.io/engine:v0.12.6) linux/amd64
```

</TabItem>

<TabItem value="Windows">

You can install `dagger` on Windows using winget or PowerShell 7.0.

<Tabs>

<TabItem value="winget">

Winget is the Windows package manager and is available on Windows 10 version 1809 and later.

To install `dagger` using `winget`, run the following command from the Terminal:

```powershell
winget install Dagger.Cli
```

</TabItem>

<TabItem value="powershell 7">

To install `dagger` using PowerShell, run the following command from the PowerShell terminal:

```powershell
Invoke-WebRequest -UseBasicParsing -Uri https://dl.dagger.io/dagger/install.ps1 | Invoke-Expression; Install-Dagger
```
[View source](https://github.com/dagger/dagger/blob/main/install.ps1)

To install Dagger to a custom location, specify the location using the `-InstallPath` parameter.

```powershell
Invoke-WebRequest -UseBasicParsing -Uri https://dl.dagger.io/dagger/install.ps1 | Invoke-Expression;
Install-Dagger -InstallPath C:\tools\dagger
```

To install a specific version of Dagger, specify the version with the `-DaggerVersion` parameter.

```powershell
Invoke-WebRequest -UseBasicParsing -Uri https://dl.dagger.io/dagger/install.ps1 | Invoke-Expression;
Install-Dagger -DaggerVersion 0.12.6
```

For an interactive installation process, include the `-Interactive` switch.

```powershell
Invoke-WebRequest -UseBasicParsing -Uri https://dl.dagger.io/dagger/install.ps1 | Invoke-Expression;
Install-Dagger -Interactive
```

For further customization, such as adding Dagger to your system's PATH, additional parameters are available. To view all available options:

```powershell
Invoke-WebRequest -UseBasicParsing -Uri https://dl.dagger.io/dagger/install.ps1 | Invoke-Expression;
Get-Command -Name Install-Dagger -Syntax
```

By default, without specifying the `-InstallPath`, Dagger will be installed in the `<your home folder>\dagger` directory.

To verify that Dagger has been installed correctly, use where.exe

```powershell
where.exe dagger
# Expected output: C:\<your home folder>\dagger\dagger.exe
```
</TabItem>
</Tabs>

</TabItem>

</Tabs>
