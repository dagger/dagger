---
slug: /developer-guide/python/428321/constructors
displayed_sidebar: "zenith"
toc_max_heading_level: 2
title: "Constructor"
---

import PartialExperimentalDocs from '../../partials/_experimental.mdx';

# Constructor

<PartialExperimentalDocs />

The main object's constructor is exposed as the entrypoint function for a module.
Its parameters are available as flags in the `dagger call` command, directly.

It can be a simple way to accept module-wide configuration, or just for setting
a few attributes without having to create setter functions for them.

In the Python SDK, the [`@dagger.object_type`][@object_type] decorator wraps
[`@dataclasses.dataclass`][dataclass], which means that an `__init__()` method
is automatically generated, with parameters that match the declared class attributes.

Here is an example with an object that has typed attributes:

```python file=./snippets/constructors/simple/main.py
```

And here is an example call for this module:

```shell
dagger call --name=Daggerverse message
```

The result will be:

```shell
Hello, Daggerverse!
```

Constructor arguments are documented through their attribute documentation,
using the same annotation used on function arguments:

```python file=./snippets/constructors/doc/main.py
```

We can see the flags documented in `dagger call --help`:

```
Flags:
      --greeting string   The greeting to use (default "Hello")
      --name string       Who to greet (default "World")

Function Commands:
  message       Return the greeting message
```


## Exclude argument in constructor

Same as any [data class][dataclass], attributes can be excluded from the
generated `__init__()` function, using [dataclasses.field(init=False)][field]:

```python file=./snippets/constructors/exclude/main.py
```

We can see that only the `name` flag was added:

```
Flags:
      --name string      Who to greet (default "World")

Function Commands:
  message       Return the greeting message
```

## Constructor only argument

The opposite is also possible. To define an argument that only exists in
the constructor, but not as a class attribute, define it as an
[init-only variable][initvar]:

```python file=./snippets/constructors/initvar/main.py
```

## Complex or mutable defaults

For default values that are more complex, dynamic or just [mutable][mutable],
use a [factory function][factory] without arguments in
[dataclasses.field(default_factory=...)][field]:

```python file=./snippets/constructors/factory/main.py
```

## Asynchronous constructor

If a constructor argument needs an async call to set the default value, it's
possible to replace the default constructor function from `__init__()` to
a factory class method which must be named `create`:

```python file=./snippets/constructors/async/main.py
```


[@object_type]: https://dagger-io.readthedocs.io/en/sdk-python-v0.9.11/module.html#dagger.object_type
[dataclass]: https://docs.python.org/3/library/dataclasses.html
[field]: https://docs.python.org/3/library/dataclasses.html#dataclasses.field
[initvar]: https://docs.python.org/3/library/dataclasses.html#init-only-variables
[factory]: https://docs.python.org/3/library/dataclasses.html#default-factory-functions
[mutable]: https://docs.python.org/3/library/dataclasses.html#mutable-default-values
