---
slug: /user/quickstart/292472/publish
hide_table_of_contents: true
title: "Add functions to publish the application"
---
import PartialExperimentalDocs from '../../partials/_experimental.mdx';

# Quickstart

<PartialExperimentalDocs />

## Add functions to publish the application

At this point, your Dagger module has functions to test and build the application. The next (and final) step is to publish it as a container image to a registry.

One such registry is [ttl.sh](https://ttl.sh), an ephemeral Docker registry. The [Daggerverse](https://daggerverse.dev) already includes a [`ttlsh` module](https://daggerverse.dev/mod/github.com/shykes/daggerverse/ttlsh@16e40ec244966e55e36a13cb6e1ff8023e1e1473) to publish to this registry.

:::info
The [Daggerverse](https://daggerverse.dev) is an online catalog that enables users to easily discover and use modules created by the Dagger community.
:::

Add the `ttlsh` module as a dependency in your module:

```shell
dagger mod install github.com/shykes/daggerverse/ttlsh
```

Update the module and add new `Package()` and `Publish()` functions to copy the built application into an NGINX web server container image and deliver the result to the registry:

```go file=snippets/publish/main.go
```

The module now has two new functions:
  - The `Package()` function calls the `dag` client's `Container().From()` function to initialize a new container from a base image - here, the `nginx:1.23-alpine` image.The `From()` function returns a new `Container` object with the result.
    - It uses the `Container.WithDirectory()` function to write the `Directory` returned by the `Build()` function to the `/usr/share/nginx/html` path in the container and return a revised `Container`.
    - It uses the `Container.WithExposedPort()` function to expose port 80 (the default NGINX port in the `nginx:1.23-alpine` image) and return a revised `Container`.
  - The `Publish()` function accepts a `Container` as input. It calls the `ttlsh` module's `Publish()` function to publish the container image to the [ttl.sh](https://ttl.sh) registry and return the image identifier.

Call the new function using the Dagger CLI:

```shell
dagger call publish
```

Here's an example of the output you will see:

```shell
✔ dagger call publish [2m4.3s]
┃ ttl.sh/clever_wing:10m@sha256:71a62cabdc46a818ec20377f72ce908125c32da9605d54d3c3688524d0bbb08c
• Engine: de1d2d726b64 (version v0.9.7)
⧗ 20m48.5s ✔ 141 ∅ 13
```
