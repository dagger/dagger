<?php

/**
 * This class has been generated by dagger-php-sdk. DO NOT EDIT.
 */

declare(strict_types=1);

namespace Dagger;

/**
 * Reflective module API provided to functions at runtime.
 */
class CurrentModule extends Client\AbstractObject implements Client\IdAble
{
    /**
     * A unique identifier for this CurrentModule.
     */
    public function id(): CurrentModuleId
    {
        $leafQueryBuilder = new \Dagger\Client\QueryBuilder('id');
        return new \Dagger\CurrentModuleId((string)$this->queryLeaf($leafQueryBuilder, 'id'));
    }

    /**
     * TODO
     */
    public function name(): string
    {
        $leafQueryBuilder = new \Dagger\Client\QueryBuilder('name');
        return (string)$this->queryLeaf($leafQueryBuilder, 'name');
    }

    /**
     * TODO
     */
    public function service(?string $host = 'localhost', array $ports): Service
    {
        $innerQueryBuilder = new \Dagger\Client\QueryBuilder('service');
        if (null !== $host) {
        $innerQueryBuilder->setArgument('host', $host);
        }
        $innerQueryBuilder->setArgument('ports', $ports);
        return new \Dagger\Service($this->client, $this->queryBuilderChain->chain($innerQueryBuilder));
    }

    /**
     * TODO
     */
    public function source(): Directory
    {
        $innerQueryBuilder = new \Dagger\Client\QueryBuilder('source');
        return new \Dagger\Directory($this->client, $this->queryBuilderChain->chain($innerQueryBuilder));
    }

    /**
     * TODO
     */
    public function tunnel(ServiceId|Service $service, ?array $ports = null, ?bool $native = false): Service
    {
        $innerQueryBuilder = new \Dagger\Client\QueryBuilder('tunnel');
        $innerQueryBuilder->setArgument('service', $service);
        if (null !== $ports) {
        $innerQueryBuilder->setArgument('ports', $ports);
        }
        if (null !== $native) {
        $innerQueryBuilder->setArgument('native', $native);
        }
        return new \Dagger\Service($this->client, $this->queryBuilderChain->chain($innerQueryBuilder));
    }

    /**
     * TODO
     */
    public function workdir(string $path, ?array $exclude = null, ?array $include = null): Directory
    {
        $innerQueryBuilder = new \Dagger\Client\QueryBuilder('workdir');
        $innerQueryBuilder->setArgument('path', $path);
        if (null !== $exclude) {
        $innerQueryBuilder->setArgument('exclude', $exclude);
        }
        if (null !== $include) {
        $innerQueryBuilder->setArgument('include', $include);
        }
        return new \Dagger\Directory($this->client, $this->queryBuilderChain->chain($innerQueryBuilder));
    }

    /**
     * TODO
     */
    public function workdirFile(string $path): File
    {
        $innerQueryBuilder = new \Dagger\Client\QueryBuilder('workdirFile');
        $innerQueryBuilder->setArgument('path', $path);
        return new \Dagger\File($this->client, $this->queryBuilderChain->chain($innerQueryBuilder));
    }
}
