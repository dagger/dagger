<?php

/**
 * This class has been generated by dagger-php-sdk. DO NOT EDIT.
 */

declare(strict_types=1);

namespace Dagger;

class GeneratorGroup extends Client\AbstractObject implements Client\IdAble
{
    /**
     * The combined changes from the generators execution
     *
     * If any conflict occurs, for instance if the same file is modified by multiple generators, or if a file is both modified and deleted, an error is raised and the merge of the changesets will failed.
     *
     * Set 'continueOnConflicts' flag to force to merge the changes in a 'last write wins' strategy.
     */
    public function changes(?ChangesetsMergeConflict $onConflict = null): Changeset
    {
        $innerQueryBuilder = new \Dagger\Client\QueryBuilder('changes');
        if (null !== $onConflict) {
        $innerQueryBuilder->setArgument('onConflict', $onConflict);
        }
        return new \Dagger\Changeset($this->client, $this->queryBuilderChain->chain($innerQueryBuilder));
    }

    /**
     * A unique identifier for this GeneratorGroup.
     */
    public function id(): GeneratorGroupId
    {
        $leafQueryBuilder = new \Dagger\Client\QueryBuilder('id');
        return new \Dagger\GeneratorGroupId((string)$this->queryLeaf($leafQueryBuilder, 'id'));
    }

    /**
     * Whether the generated changeset is empty or not
     */
    public function isEmpty(): bool
    {
        $leafQueryBuilder = new \Dagger\Client\QueryBuilder('isEmpty');
        return (bool)$this->queryLeaf($leafQueryBuilder, 'isEmpty');
    }

    /**
     * Return a list of individual generators and their details
     */
    public function list(): array
    {
        $leafQueryBuilder = new \Dagger\Client\QueryBuilder('list');
        return (array)$this->queryLeaf($leafQueryBuilder, 'list');
    }

    /**
     * Execute all selected generators
     */
    public function run(): GeneratorGroup
    {
        $innerQueryBuilder = new \Dagger\Client\QueryBuilder('run');
        return new \Dagger\GeneratorGroup($this->client, $this->queryBuilderChain->chain($innerQueryBuilder));
    }
}
