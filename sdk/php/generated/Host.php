<?php

/**
 * This class has been generated by dagger-php-sdk. DO NOT EDIT.
 */

declare(strict_types=1);

namespace DaggerIo\Gen;

/**
 * Information about the host execution environment.
 */
class Host extends \DaggerIo\Client\AbstractDaggerObject
{
    /**
     * Accesses a directory on the host.
     */
    public function directory(string $path, ?array $exclude = null, ?array $include = null): Directory
    {
        $innerQueryBuilder = new \DaggerIo\Client\DaggerQueryBuilder('directory');
        $innerQueryBuilder->setArgument('path', $path);
        if (null !== $exclude) {
        $innerQueryBuilder->setArgument('exclude', $exclude);
        }
        if (null !== $include) {
        $innerQueryBuilder->setArgument('include', $include);
        }
        return new \DaggerIo\Gen\Directory($this->client, $this->queryBuilderChain->chain($innerQueryBuilder));
    }

    /**
     * Accesses a file on the host.
     */
    public function file(string $path): File
    {
        $innerQueryBuilder = new \DaggerIo\Client\DaggerQueryBuilder('file');
        $innerQueryBuilder->setArgument('path', $path);
        return new \DaggerIo\Gen\File($this->client, $this->queryBuilderChain->chain($innerQueryBuilder));
    }

    /**
     * Creates a service that forwards traffic to a specified address via the host.
     */
    public function service(array $ports, ?string $host = 'localhost'): Service
    {
        $innerQueryBuilder = new \DaggerIo\Client\DaggerQueryBuilder('service');
        $innerQueryBuilder->setArgument('ports', $ports);
        if (null !== $host) {
        $innerQueryBuilder->setArgument('host', $host);
        }
        return new \DaggerIo\Gen\Service($this->client, $this->queryBuilderChain->chain($innerQueryBuilder));
    }

    /**
     * Sets a secret given a user-defined name and the file path on the host, and returns the secret.
     * The file is limited to a size of 512000 bytes.
     */
    public function setSecretFile(string $name, string $path): Secret
    {
        $innerQueryBuilder = new \DaggerIo\Client\DaggerQueryBuilder('setSecretFile');
        $innerQueryBuilder->setArgument('name', $name);
        $innerQueryBuilder->setArgument('path', $path);
        return new \DaggerIo\Gen\Secret($this->client, $this->queryBuilderChain->chain($innerQueryBuilder));
    }

    /**
     * Creates a tunnel that forwards traffic from the host to a service.
     */
    public function tunnel(ServiceId|Service $service, ?bool $native = false, ?array $ports = null): Service
    {
        $innerQueryBuilder = new \DaggerIo\Client\DaggerQueryBuilder('tunnel');
        $innerQueryBuilder->setArgument('service', $service);
        if (null !== $native) {
        $innerQueryBuilder->setArgument('native', $native);
        }
        if (null !== $ports) {
        $innerQueryBuilder->setArgument('ports', $ports);
        }
        return new \DaggerIo\Gen\Service($this->client, $this->queryBuilderChain->chain($innerQueryBuilder));
    }

    /**
     * Accesses a Unix socket on the host.
     */
    public function unixSocket(string $path): Socket
    {
        $innerQueryBuilder = new \DaggerIo\Client\DaggerQueryBuilder('unixSocket');
        $innerQueryBuilder->setArgument('path', $path);
        return new \DaggerIo\Gen\Socket($this->client, $this->queryBuilderChain->chain($innerQueryBuilder));
    }
}
